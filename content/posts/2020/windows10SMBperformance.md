---
title: "10Gb/s file transfers with SMBv3"
date: 2020-06-11T15:03:53-05:00
toc: false
images:
categories:
  - tech
tags: 
  - smb
  - diskspd
  - ssd
  - hpc
markup:
  tableOfContents:
    endLevel: 3
    ordered: false
    startLevel: 1
---

# Summary

High performance file transfers over the network can be a challenge due to limited network capacity, operating system tuning, file system tuning, bus speed, and drive performance.  However, with the right hardware and a little bit of tuning, a Windows 10 workstation can saturate a 10Gb/s interface with SMBv3 file transfers.

Using `robocopy` and `powershell` scripts, we see how disk caching and MTU changes affect the performance of a stock Windows 10 Pro workstation while attempting to fill 10Gb/s network paths to their capacity.  

In the following examples, the source host is a Dell workstation with high performance SSD disks, 300G of ram, and 10G network connections.  All the network infrastructure is capable of transferring 10G or 40G with 9000 byte jumbo frames enabled.   The SMB disk storage is high performance flash cache with multiple 40G interfaces.

Each test is typically done in pairs.  The first run reads from disk which is ~50% slower then reading from disk cache.  Subsequent runs read the data from cache bypassing the disks and increase the file transfers significantly.

Topology diagram:

![network topology](/images/summary-wurn-smb.png)

## Baseline: Local SSD disk performance statistics

Disk caching increases local disk performance by 80%:

- Non-cached max read performance (10G file baseline): 732.13MB/s OR 5.8Gb/s
- Cache max write performance (10G file baseline): 726.87MB/s OR 5.8Gb/s
- Cached max read performance (10G file baseline): 3593.91MB/s OR 28.7Gb/s


## Transferring from SSD to SMB, 1500 Byte MTU, Non-Cached local disk reads

Reading from disk reduces SMB performance by ~50% compared to reading from cache:

- 1G file: 1010105196 Bytes/sec. OR 8.0Gb/s
- 10G file: 501959620 Bytes/sec. OR 4.0Gb/s
- 50G file: 621112384 Bytes/sec. OR 4.9Gb/s


## Transferring from SSD to SMB, 1500 Byte MTU, Cached local disk reads

Reading from disk cache increase SMB performance by ~50% compared to reading directly from disk:

- 1G file: 996049929 Bytes/sec. OR 7.9Gb/s
- 10G file: 1147160068 Bytes/sec. OR 9.1Gb/s
- 50G file: 1160375455 Bytes/sec. OR 9.2Gb/s

## Transferring from SSD to SMB, 9000 Byte MTU, Non-Cached local disk reads

Increasing the MTU from 1500 bytes to 9000 bytes increase non-cached disk reads to SMB file storage by ~30%:

- 1G file: 1126696562 Bytes/sec. OR 9.0Gb/s
- 10G file: 702618652 Bytes/sec. OR 5.6Gb/s
- 50G file: 586442933 Bytes/sec. OR 4.6Gb/s

## Transferring from SSD to SMB, 9000 Byte MTU, Cached local disk reads

Increasing the MTU from 1500 bytes to 9000 bytes increase cached disk reads to SMB file storage by ~7%:

- 1G file: 1183838835 Bytes/sec. OR 9.4Gb/s
- 10G file: 1222662063 Bytes/sec. OR 9.7Gb/s
- 50G file: 1223219211 Bytes/sec. OR 9.7Gb/s

## Transferring from SSD to SMB, 9000 Byte MTU, Cached local disk reads, 100 x 1G files

- 100G (100 x 1G files w/8 parallel streams): 1183774935 Bytes/sec. OR 9.4Gb/s

## Tools Used:

- [DiskSpd](https://gallery.technet.microsoft.com/DiskSpd-a-robust-storage-6cd2f223) - Baseline speed tests for local disks.
- [RoboCopy](https://docs.microsoft.com/en-us/windows-server/administration/windows-commands/robocopy) - Moving data around and documenting the results.
- [typeperf](https://docs.microsoft.com/en-us/windows-server/administration/windows-commands/typeperf) - Validating disk utilization and performance stats.
- [PowerShell](https://docs.microsoft.com/en-us/powershell/scripting/overview?view=powershell-7) - Because command lines are better then GUI's.


# Details

## Creating the test data and baselining local SSD disk performance

### Creating a 10G file, writing to SSD, with caching enabled

Creating a test file and doing 120 seconds of read testing with caching enable yields approximately 3593GB/s max.  These speeds can be achieved because most of the reads are pulled from cached data as can be seen by the disk I/O data from the next output.


```
(base) PS C:\Users\jemurray\Documents\JasonMurrayPerfTesting> .\diskspd.exe -c10G -d120 -w0 -Zr  d:\JasonMurrayPerfTesting\10G.img


Command Line: C:\Users\jemurray\Documents\JasonMurrayPerfTesting\diskspd.exe -c10G -d120 -w0 -Zr d:\JasonMurrayPerfTesting\10G.img


Input parameters:


        timespan:   1
        -------------
        duration: 120s
        warm up time: 5s
        cool down time: 0s
        random seed: 0
        generating random data for each write IO
          WARNING: this increases the CPU cost of issuing writes and should only
                   be compared to other results using the -Zr flag
        path: 'd:\JasonMurrayPerfTesting\10G.img'
                think time: 0ms
                burst size: 0
                using software cache
                using hardware write cache, writethrough off
                performing read test
                block size: 65536
                using sequential I/O (stride: 65536)
                number of outstanding I/O operations: 2
                thread stride size: 0
                threads per file: 1
                using I/O Completion Ports
                IO priority: normal


System information:


        computer name: Window10-Workstation
        start time: 2020/06/09 19:35:20 UTC


Results for timespan 1:
*******************************************************************************


actual test time:       120.02s
thread count:           1
proc count:             32


CPU |  Usage |  User  |  Kernel |  Idle
-------------------------------------------
   0|  94.34%|   2.80%|   91.54%|   5.66%
   1|   0.13%|   0.01%|    0.12%|  99.87%
   2|   6.63%|   1.02%|    5.61%|  93.37%
   3|   0.30%|   0.10%|    0.20%|  99.70%
   4|  39.18%|  37.13%|    2.06%|  60.82%
   5|   0.21%|   0.09%|    0.12%|  99.79%
   6|  30.86%|  28.43%|    2.42%|  69.14%
   7|   0.03%|   0.00%|    0.03%|  99.97%
   8|  10.65%|   6.47%|    4.18%|  89.35%
   9|   0.85%|   0.38%|    0.47%|  99.15%
  10|  45.83%|  44.75%|    1.08%|  54.17%
  11|   0.68%|   0.01%|    0.66%|  99.32%
  12|   7.28%|   4.73%|    2.55%|  92.72%
  13|   0.03%|   0.03%|    0.00%|  99.97%
  14|   2.90%|   1.54%|    1.37%|  97.10%
  15|   0.39%|   0.36%|    0.03%|  99.61%
  16|   1.91%|   1.45%|    0.47%|  98.09%
  17|   1.51%|   0.48%|    1.03%|  98.49%
  18|   0.82%|   0.55%|    0.27%|  99.18%
  19|   0.44%|   0.03%|    0.42%|  99.56%
  20|   0.52%|   0.16%|    0.36%|  99.48%
  21|   0.07%|   0.01%|    0.05%|  99.93%
  22|   0.26%|   0.04%|    0.22%|  99.74%
  23|   0.35%|   0.14%|    0.21%|  99.65%
  24|   0.18%|   0.08%|    0.10%|  99.82%
  25|   0.17%|   0.01%|    0.16%|  99.83%
  26|   0.16%|   0.10%|    0.05%|  99.84%
  27|   0.03%|   0.03%|    0.00%|  99.97%
  28|   0.21%|   0.08%|    0.13%|  99.79%
  29|   0.07%|   0.03%|    0.04%|  99.93%
  30|   0.16%|   0.05%|    0.10%|  99.84%
  31|   0.44%|   0.09%|    0.35%|  99.56%
-------------------------------------------
avg.|   7.74%|   4.10%|    3.64%|  92.26%


Total IO
thread |       bytes     |     I/Os     |    MiB/s   |  I/O per s |  file
------------------------------------------------------------------------------
     0 |    452276518912 |      6901192 |    3593.91 |   57502.60 | d:\JasonMurrayPerfTesting\10G.img (10240MiB)
------------------------------------------------------------------------------
total:      452276518912 |      6901192 |    3593.91 |   57502.60


Read IO
thread |       bytes     |     I/Os     |    MiB/s   |  I/O per s |  file
------------------------------------------------------------------------------
     0 |    452276518912 |      6901192 |    3593.91 |   57502.60 | d:\JasonMurrayPerfTesting\10G.img (10240MiB)
------------------------------------------------------------------------------
total:      452276518912 |      6901192 |    3593.91 |   57502.60


Write IO
thread |       bytes     |     I/Os     |    MiB/s   |  I/O per s |  file
------------------------------------------------------------------------------
     0 |               0 |            0 |       0.00 |       0.00 | d:\JasonMurrayPerfTesting\10G.img (10240MiB)
------------------------------------------------------------------------------
total:                 0 |            0 |       0.00 |       0.00
```


The read tests are transferring most data from cache, as can be seen in this output.   After `06/09/2020 14:33:32.618` the disk access goes to 0, indicating data is cached:

```
(base) PS D:\JasonMurrayPerfTesting> typeperf "\PhysicalDisk(1 D:)\Disk Bytes/sec"


"(PDH-CSV 4.0)","\\Window10-Workstation\PhysicalDisk(1 D:)\Disk Bytes/sec"
"06/09/2020 14:33:11.352","0.000000"
"06/09/2020 14:33:12.368","0.000000"
"06/09/2020 14:33:13.383","0.000000"
"06/09/2020 14:33:14.399","0.000000"
"06/09/2020 14:33:15.415","165801532.162476"
"06/09/2020 14:33:16.430","698765190.223793"
"06/09/2020 14:33:17.430","690891783.364765"
"06/09/2020 14:33:18.446","684659740.363080"
"06/09/2020 14:33:19.461","658671359.275732"
"06/09/2020 14:33:20.462","741672571.534981"
"06/09/2020 14:33:21.477","726053899.811889"
"06/09/2020 14:33:22.493","735001894.146732"
"06/09/2020 14:33:23.508","692838067.649922"
"06/09/2020 14:33:24.524","750798206.214461"
"06/09/2020 14:33:25.524","752556325.016668"
"06/09/2020 14:33:26.540","751407010.084612"
"06/09/2020 14:33:27.555","711189273.572872"
"06/09/2020 14:33:28.571","714777457.211188"
"06/09/2020 14:33:29.586","739817242.139102"
"06/09/2020 14:33:30.587","397515178.246173"
"06/09/2020 14:33:31.602","0.000000"
"06/09/2020 14:33:32.618","12099.458971"
"06/09/2020 14:33:33.633","0.000000"
"06/09/2020 14:33:34.649","0.000000"
"06/09/2020 14:33:35.665","0.000000"
"06/09/2020 14:33:36.681","0.000000"
"06/09/2020 14:33:37.696","0.000000"
"06/09/2020 14:33:38.712","0.000000"
"06/09/2020 14:33:39.712","0.000000"
"06/09/2020 14:33:40.727","0.000000"
"06/09/2020 14:33:41.743","0.000000"
"06/09/2020 14:33:42.743","0.000000"
"06/09/2020 14:33:43.758","0.000000"
"06/09/2020 14:33:44.774","0.000000"
"06/09/2020 14:33:45.790","0.000000"
"06/09/2020 14:33:46.805","0.000000"
"06/09/2020 14:33:47.805","0.000000"
"06/09/2020 14:33:48.806","0.000000"
"06/09/2020 14:33:49.821","0.000000"
"06/09/2020 14:33:50.836","0.000000"
"06/09/2020 14:33:51.837","0.000000"
"06/09/2020 14:33:52.852","0.000000"
"06/09/2020 14:33:53.868","0.000000"
"06/09/2020 14:33:54.883","0.000000"
"06/09/2020 14:33:55.899","0.000000"
"06/09/2020 14:33:56.899","0.000000"
"06/09/2020 14:33:57.915","0.000000"
"06/09/2020 14:33:58.930","0.000000"
"06/09/2020 14:33:59.931","0.000000"
"06/09/2020 14:34:00.946","0.000000"
"06/09/2020 14:34:01.946","0.000000"
"06/09/2020 14:34:02.961","0.000000"
"06/09/2020 14:34:03.962","0.000000"
"06/09/2020 14:34:04.977","0.000000"
"06/09/2020 14:34:05.993","0.000000"
"06/09/2020 14:34:07.008","0.000000"
"06/09/2020 14:34:08.024","0.000000"
"06/09/2020 14:34:09.024","0.000000"
"06/09/2020 14:34:10.024","0.000000"
"06/09/2020 14:34:11.040","0.000000"
"06/09/2020 14:34:12.055","0.000000"
"06/09/2020 14:34:13.055","0.000000"
"06/09/2020 14:34:14.071","0.000000"
"06/09/2020 14:34:15.086","0.000000"
"06/09/2020 14:34:16.087","0.000000"
"06/09/2020 14:34:17.102","0.000000"
"06/09/2020 14:34:18.118","0.000000"
"06/09/2020 14:34:19.118","0.000000"
"06/09/2020 14:34:20.133","0.000000"
"06/09/2020 14:34:21.149","0.000000"
"06/09/2020 14:34:22.165","0.000000"
"06/09/2020 14:34:23.180","0.000000"
"06/09/2020 14:35:12.493","0.000000"
"06/09/2020 14:35:13.495","0.000000"
"06/09/2020 14:35:14.508","0.000000"
"06/09/2020 14:35:15.524","0.000000"
"06/09/2020 14:35:16.525","0.000000"
"06/09/2020 14:35:17.539","0.000000"
"06/09/2020 14:35:18.555","0.000000"
"06/09/2020 14:35:19.557","0.000000"
"06/09/2020 14:35:20.571","0.000000"
"06/09/2020 14:35:21.587","0.000000"
"06/09/2020 14:35:22.588","0.000000"
"06/09/2020 14:35:23.602","0.000000"
"06/09/2020 14:35:24.618","0.000000"
"06/09/2020 14:35:25.620","0.000000"
"06/09/2020 14:35:26.633","0.000000"
"06/09/2020 14:35:27.649","0.000000"
"06/09/2020 14:35:28.650","0.000000"
"06/09/2020 14:35:29.665","0.000000"
"06/09/2020 14:35:30.680","0.000000"
"06/09/2020 14:35:31.696","0.000000"
"06/09/2020 14:35:32.696","0.000000"

The command completed successfully.
```


### Creating a 10G file, reading / writing to SSD, with caching disabled.

Running a similar test as above by creating a 10G data file and performing 120 seconds of read tests.  In this test all hardware and software caching is disabled.   This shows the true performance of the physical disks.

Maximum disk performance is reduced to 732GB/s from 3593GB/s when caching is enabled.

```
(base) PS C:\Users\jemurray\Documents\JasonMurrayPerfTesting> .\diskspd.exe -c10G -d120 -w0 -Zr -Sh d:\JasonMurrayPerfTesting\10G.img


Command Line: C:\Users\jemurray\Documents\JasonMurrayPerfTesting\diskspd.exe -c10G -d120 -w0 -Zr -Sh d:\JasonMurrayPerfTesting\10G.img


Input parameters:


        timespan:   1
        -------------
        duration: 120s
        warm up time: 5s
        cool down time: 0s
        random seed: 0
        generating random data for each write IO
          WARNING: this increases the CPU cost of issuing writes and should only
                   be compared to other results using the -Zr flag
        path: 'd:\JasonMurrayPerfTesting\10G.img'
                think time: 0ms
                burst size: 0
                software cache disabled
                hardware write cache disabled, writethrough on
                performing read test
                block size: 65536
                using sequential I/O (stride: 65536)
                number of outstanding I/O operations: 2
                thread stride size: 0
                threads per file: 1
                using I/O Completion Ports
                IO priority: normal


System information:


        computer name: Window10-Workstation
        start time: 2020/06/09 19:40:38 UTC


Results for timespan 1:
*******************************************************************************


actual test time:       120.00s
thread count:           1
proc count:             32


CPU |  Usage |  User  |  Kernel |  Idle
-------------------------------------------
   0|  34.69%|   2.47%|   32.21%|  65.31%
   1|   0.76%|   0.29%|    0.47%|  99.24%
   2|   4.83%|   2.24%|    2.59%|  95.17%
   3|   0.39%|   0.20%|    0.20%|  99.61%
   4|  35.92%|  35.04%|    0.87%|  64.08%
   5|   1.15%|   0.99%|    0.16%|  98.85%
   6|  22.72%|  20.82%|    1.90%|  77.28%
   7|   1.00%|   0.81%|    0.20%|  99.00%
   8|   7.18%|   6.53%|    0.65%|  92.82%
   9|   0.49%|   0.31%|    0.18%|  99.51%
  10|   5.95%|   5.50%|    0.46%|  94.05%
  11|   0.18%|   0.17%|    0.01%|  99.82%
  12|   3.15%|   2.60%|    0.55%|  96.85%
  13|   0.26%|   0.17%|    0.09%|  99.74%
  14|   2.76%|   2.16%|    0.60%|  97.24%
  15|   0.39%|   0.16%|    0.23%|  99.61%
  16|   3.06%|   2.60%|    0.46%|  96.94%
  17|   1.45%|   0.70%|    0.74%|  98.55%
  18|   1.22%|   0.99%|    0.23%|  98.78%
  19|   1.29%|   0.59%|    0.70%|  98.71%
  20|   1.37%|   0.39%|    0.98%|  98.63%
  21|   0.30%|   0.12%|    0.18%|  99.70%
  22|   3.75%|   1.50%|    2.25%|  96.25%
  23|   0.86%|   0.39%|    0.47%|  99.14%
  24|   1.89%|   0.68%|    1.21%|  98.11%
  25|   0.34%|   0.10%|    0.23%|  99.66%
  26|   1.61%|   0.61%|    1.00%|  98.39%
  27|   0.30%|   0.14%|    0.16%|  99.70%
  28|   1.00%|   0.43%|    0.57%|  99.00%
  29|   0.20%|   0.09%|    0.10%|  99.80%
  30|   1.63%|   0.76%|    0.87%|  98.37%
  31|   1.29%|   0.40%|    0.89%|  98.71%
-------------------------------------------
avg.|   4.48%|   2.84%|    1.64%|  95.52%


Total IO
thread |       bytes     |     I/Os     |    MiB/s   |  I/O per s |  file
------------------------------------------------------------------------------
     0 |     92123168768 |      1405688 |     732.13 |   11714.05 | d:\JasonMurrayPerfTesting\10G.img (10240MiB)
------------------------------------------------------------------------------
total:       92123168768 |      1405688 |     732.13 |   11714.05


Read IO
thread |       bytes     |     I/Os     |    MiB/s   |  I/O per s |  file
------------------------------------------------------------------------------
     0 |     92123168768 |      1405688 |     732.13 |   11714.05 | d:\JasonMurrayPerfTesting\10G.img (10240MiB)
------------------------------------------------------------------------------
total:       92123168768 |      1405688 |     732.13 |   11714.05


Write IO
thread |       bytes     |     I/Os     |    MiB/s   |  I/O per s |  file
------------------------------------------------------------------------------
     0 |               0 |            0 |       0.00 |       0.00 | d:\JasonMurrayPerfTesting\10G.img (10240MiB)
------------------------------------------------------------------------------
total:                 0 |            0 |       0.00 |       0.00
```


When caching is disabled this disk is constantly loaded:

```
(base) PS D:\JasonMurrayPerfTesting> typeperf "\PhysicalDisk(1 D:)\Disk Bytes/sec"


"(PDH-CSV 4.0)","\\Window10-Workstation\PhysicalDisk(1 D:)\Disk Bytes/sec"
"06/09/2020 14:38:30.432","0.000000"
"06/09/2020 14:38:31.446","4039.447333"
"06/09/2020 14:38:32.462","0.000000"
"06/09/2020 14:38:33.477","143484277.720861"
"06/09/2020 14:38:34.477","759460061.796687"
"06/09/2020 14:38:35.493","766612548.125945"
"06/09/2020 14:38:36.495","766416798.974364"
"06/09/2020 14:38:37.508","776425533.787837"
"06/09/2020 14:38:38.524","782025240.009368"
"06/09/2020 14:38:39.525","769168928.061435"
"06/09/2020 14:38:40.539","771058132.026197"
"06/09/2020 14:38:41.555","770106909.772044"
"06/09/2020 14:38:42.557","759279399.197808"
"06/09/2020 14:38:43.571","757372297.033794"
"06/09/2020 14:38:44.586","761880328.972014"
"06/09/2020 14:38:45.589","773449401.992434"
"06/09/2020 14:38:46.602","757376579.773376"
"06/09/2020 14:38:47.618","723118430.454148"
"06/09/2020 14:38:48.619","774515221.651979"
"06/09/2020 14:38:49.633","778272355.306251"
"06/09/2020 14:38:50.649","779272909.207867"
"06/09/2020 14:38:51.651","780464179.339675"
"06/09/2020 14:38:52.665","776796849.933453"
"06/09/2020 14:38:53.680","769937047.309385"
"06/09/2020 14:38:54.681","779235773.343571"
"06/09/2020 14:38:55.696","768808385.281785"
"06/09/2020 14:38:56.712","778699191.921180"
"06/09/2020 14:38:57.714","770073467.382938"
"06/09/2020 14:38:58.727","775963158.816665"
"06/09/2020 14:38:59.743","784169020.085725"
"06/09/2020 14:39:00.758","774629745.839395"
"06/09/2020 14:39:01.774","759670234.751548"
"06/09/2020 14:39:02.789","770769565.021789"
"06/09/2020 14:39:03.806","781291013.600664"
"06/09/2020 14:39:04.821","771700734.354063"
"06/09/2020 14:39:05.837","781567163.701646"
"06/09/2020 14:39:06.839","775129928.434282"
"06/09/2020 14:39:07.852","773784403.350467"
"06/09/2020 14:39:08.868","766825909.756647"
"06/09/2020 14:39:09.870","756623442.496196"
"06/09/2020 14:39:10.884","765551051.931143"
"06/09/2020 14:39:11.899","768227184.119548"
"06/09/2020 14:39:12.900","770219661.528957"
"06/09/2020 14:39:13.915","756920200.800493"
"06/09/2020 14:39:14.930","775106307.745919"
"06/09/2020 14:39:15.932","762213985.531217"
"06/09/2020 14:39:16.946","772202311.678855"
"06/09/2020 14:39:17.961","767445661.529541"
"06/09/2020 14:39:18.963","769457663.196147"
"06/09/2020 14:39:19.977","783330244.902536"
"06/09/2020 14:39:20.993","770365125.578402"
"06/09/2020 14:39:21.995","772694079.956032"
"06/09/2020 14:39:23.008","783354375.642165"
"06/09/2020 14:39:24.024","776145077.658997"
"06/09/2020 14:39:25.027","778162333.337823"
"06/09/2020 14:39:26.039","757374166.237337"
"06/09/2020 14:39:27.055","783202753.116418"
"06/09/2020 14:39:28.058","754956234.947580"
"06/09/2020 14:39:29.071","760504614.803895"
"06/09/2020 14:39:30.086","762679505.438413"
"06/09/2020 14:39:31.088","778823606.268253"
"06/09/2020 14:39:32.102","766320404.142030"
"06/09/2020 14:39:33.118","695244797.337649"
"06/09/2020 14:39:34.120","761524957.709151"
"06/09/2020 14:39:35.133","760929299.244139"
"06/09/2020 14:39:36.149","762418426.349315"
"06/09/2020 14:39:37.150","777652691.121449"
"06/09/2020 14:39:38.164","764330920.386153"
"06/09/2020 14:39:39.180","766279959.949677"
"06/09/2020 14:39:40.181","756486095.040239"
"06/09/2020 14:39:41.196","770296507.019453"
"06/09/2020 14:39:42.212","755588803.123010"
"06/09/2020 14:39:43.214","762367269.088145"
"06/09/2020 14:39:44.227","759883892.950880"
"06/09/2020 14:39:45.243","770144881.077324"
"06/09/2020 14:39:46.244","779963952.623219"
"06/09/2020 14:39:47.258","771007053.063664"
"06/09/2020 14:39:48.274","748424037.795266"
"06/09/2020 14:39:49.290","768293604.718782"
"06/09/2020 14:39:50.290","765522589.058985"
"06/09/2020 14:39:51.305","759107311.821583"
"06/09/2020 14:39:52.308","763713589.657041"
"06/09/2020 14:39:53.321","779608235.413240"
"06/09/2020 14:39:54.336","760515760.384565"
"06/09/2020 14:39:55.338","782922345.398526"
"06/09/2020 14:39:56.352","768459481.057681"
"06/09/2020 14:39:57.352","745210078.887587"
"06/09/2020 14:39:58.355","771616338.961581"
"06/09/2020 14:39:59.368","780284984.766279"
"06/09/2020 14:40:00.368","781888527.806855"
"06/09/2020 14:40:01.383","773393042.765866"
"06/09/2020 14:40:02.399","778362808.766480"
"06/09/2020 14:40:03.399","750599181.063746"
"06/09/2020 14:40:04.399","784295587.205837"
"06/09/2020 14:40:05.414","756924271.818645"
"06/09/2020 14:40:06.415","776051550.195362"
"06/09/2020 14:40:07.430","776338948.229921"
"06/09/2020 14:40:08.446","778221186.109459"
"06/09/2020 14:40:09.461","742060124.884201"
"06/09/2020 14:40:10.461","770247316.280259"
"06/09/2020 14:40:11.477","748532111.474075"
"06/09/2020 14:40:12.481","773622688.475755"
"06/09/2020 14:40:13.496","779651679.134312"
"06/09/2020 14:40:14.508","772545216.616600"
"06/09/2020 14:40:15.524","776223610.570177"
"06/09/2020 14:40:16.524","781705863.477100"
"06/09/2020 14:40:17.539","770080792.203462"
"06/09/2020 14:40:18.539","747576253.974413"
"06/09/2020 14:40:19.555","755377891.013480"
"06/09/2020 14:40:20.555","778588163.503352"
"06/09/2020 14:40:21.555","769654630.436201"
"06/09/2020 14:40:22.571","766437299.307497"
"06/09/2020 14:40:23.571","783855239.748666"
"06/09/2020 14:40:24.573","773848841.497390"
"06/09/2020 14:40:25.586","748676376.021879"
"06/09/2020 14:40:26.587","770624831.405409"
"06/09/2020 14:40:27.589","783574776.700420"
"06/09/2020 14:40:28.602","760880940.194846"
"06/09/2020 14:40:29.618","762529052.689518"
"06/09/2020 14:40:30.634","752194624.150378"
"06/09/2020 14:40:31.649","760047342.684574"
"06/09/2020 14:40:32.649","778249798.580503"
"06/09/2020 14:40:33.665","737695518.357819"
"06/09/2020 14:40:34.665","765308489.733939"
"06/09/2020 14:40:35.665","756992121.694108"
"06/09/2020 14:40:36.680","776832104.703116"
"06/09/2020 14:40:37.680","770971433.623755"
"06/09/2020 14:40:38.680","393227334.276713"
"06/09/2020 14:40:39.696","0.000000"
"06/09/2020 14:40:40.711","0.000000"
"06/09/2020 14:40:41.712","0.000000"


The command completed successfully.
```

Running with the write test this time:

```
(base) PS C:\Users\jemurray\Documents\JasonMurrayPerfTesting> .\diskspd.exe -c10G -d120 -w100 -Sh -Zr  d:\JasonMurrayPerfTesting\10G.img

Command Line: C:\Users\jemurray\Documents\JasonMurrayPerfTesting\diskspd.exe -c10G -d120 -w100 -Sh -Zr d:\JasonMurrayPerfTesting\10G.img

Input parameters:

        timespan:   1
        -------------
        duration: 120s
        warm up time: 5s
        cool down time: 0s
        random seed: 0
        generating random data for each write IO
          WARNING: this increases the CPU cost of issuing writes and should only
                   be compared to other results using the -Zr flag
        path: 'd:\JasonMurrayPerfTesting\10G.img'
                think time: 0ms
                burst size: 0
                software cache disabled
                hardware write cache disabled, writethrough on
                performing write test
                block size: 65536
                using sequential I/O (stride: 65536)
                number of outstanding I/O operations: 2
                thread stride size: 0
                threads per file: 1
                using I/O Completion Ports
                IO priority: normal

System information:

        computer name: workstation
        start time: 2020/06/11 14:03:46 UTC

Results for timespan 1:
*******************************************************************************

actual test time:       120.02s
thread count:           1
proc count:             32

CPU |  Usage |  User  |  Kernel |  Idle
-------------------------------------------
   0|  62.95%|  46.11%|   16.83%|  37.05%
   1|   0.22%|   0.20%|    0.03%|  99.78%
   2|   1.68%|   1.05%|    0.63%|  98.32%
   3|   0.42%|   0.33%|    0.09%|  99.58%
   4|   0.76%|   0.55%|    0.21%|  99.24%
   5|   0.59%|   0.38%|    0.21%|  99.41%
   6|   1.37%|   0.20%|    1.17%|  98.63%
   7|   0.17%|   0.08%|    0.09%|  99.83%
   8|   0.47%|   0.33%|    0.14%|  99.53%
   9|   0.33%|   0.18%|    0.14%|  99.67%
  10|   2.38%|   1.39%|    0.99%|  97.62%
  11|   0.89%|   0.30%|    0.59%|  99.11%
  12|   3.22%|   1.68%|    1.54%|  96.78%
  13|   0.23%|   0.17%|    0.07%|  99.77%
  14|   2.90%|   1.30%|    1.60%|  97.10%
  15|   0.08%|   0.05%|    0.03%|  99.92%
  16|  26.77%|  25.08%|    1.69%|  73.23%
  17|   0.26%|   0.21%|    0.05%|  99.74%
  18|  10.17%|   9.31%|    0.86%|  89.83%
  19|   0.29%|   0.08%|    0.21%|  99.71%
  20|   2.11%|   0.52%|    1.59%|  97.89%
  21|   0.33%|   0.17%|    0.16%|  99.67%
  22|   4.53%|   2.23%|    2.30%|  95.47%
  23|   0.29%|   0.21%|    0.08%|  99.71%
  24|   1.29%|   0.72%|    0.57%|  98.71%
  25|   1.03%|   0.29%|    0.74%|  98.97%
  26|   0.74%|   0.46%|    0.29%|  99.26%
  27|   0.42%|   0.20%|    0.22%|  99.58%
  28|   1.07%|   0.59%|    0.48%|  98.93%
  29|   0.61%|   0.31%|    0.30%|  99.39%
  30|   8.88%|   3.05%|    5.83%|  91.12%
  31|   0.27%|   0.17%|    0.10%|  99.73%
-------------------------------------------
avg.|   4.30%|   3.06%|    1.24%|  95.70%

Total IO
thread |       bytes     |     I/Os     |    MiB/s   |  I/O per s |  file
------------------------------------------------------------------------------
     0 |     91473444864 |      1395774 |     726.87 |   11629.95 | d:\JasonMurrayPerfTesting\10G.img (10240MiB)
------------------------------------------------------------------------------
total:       91473444864 |      1395774 |     726.87 |   11629.95

Read IO
thread |       bytes     |     I/Os     |    MiB/s   |  I/O per s |  file
------------------------------------------------------------------------------
     0 |               0 |            0 |       0.00 |       0.00 | d:\JasonMurrayPerfTesting\10G.img (10240MiB)
------------------------------------------------------------------------------
total:                 0 |            0 |       0.00 |       0.00

Write IO
thread |       bytes     |     I/Os     |    MiB/s   |  I/O per s |  file
------------------------------------------------------------------------------
     0 |     91473444864 |      1395774 |     726.87 |   11629.95 | d:\JasonMurrayPerfTesting\10G.img (10240MiB)
------------------------------------------------------------------------------
total:       91473444864 |      1395774 |     726.87 |   11629.95
```



The rest of the test data was created with the following commands:

```
.\diskspd.exe -c1G -d1 -w0 -Zr  d:\JasonMurrayPerfTesting\1G.img
.\diskspd.exe -c01G -d1 -w0 -Zr  d:\JasonMurrayPerfTesting\10G.img
.\diskspd.exe -c50G -d1 -w0 -Zr  d:\JasonMurrayPerfTesting\50G.img
```


## Copy data from local disk to remote SMBv3 storage.  

For these tests 1G, 10G, and 50G files were created with random data.  The first transfer over SMB will be uncached and read from disk.   Subsequent transfers will be cached and read from memory, bypassing disks.  The first set of tests uses a 1500 byte MTU, the second set of tests uses a 9000 byte MTU.   

### First run: 1G file transfer from SSD to SMB, 1500 byte MTU, non-cached data

1G file transferred: `1010105196 Bytes/sec.`

```
(base) PS D:\JasonMurrayPerfTesting> Robocopy.exe D:\JasonMurrayPerfTesting\ X:\Active\JasonMurrayPerfTesting\ 1G.img


-------------------------------------------------------------------------------
   ROBOCOPY     ::     Robust File Copy for Windows
-------------------------------------------------------------------------------


  Started : Tuesday, June 9, 2020 2:20:58 PM
   Source : D:\JasonMurrayPerfTesting\
     Dest : X:\Active\JasonMurrayPerfTesting\


    Files : 1G.img


  Options : /DCOPY:DA /COPY:DAT /R:1000000 /W:30


------------------------------------------------------------------------------


                           1    D:\JasonMurrayPerfTesting\
100%        New File               1.0 g        1G.img


------------------------------------------------------------------------------


               Total    Copied   Skipped  Mismatch    FAILED    Extras
    Dirs :         1         0         1         0         0         0
   Files :         1         1         0         0         0         0
   Bytes :   1.000 g   1.000 g         0         0         0         0
   Times :   0:00:01   0:00:01                       0:00:00   0:00:00




   Speed :           1010105196 Bytes/sec.
   Speed :            57798.682 MegaBytes/min.
   Ended : Tuesday, June 9, 2020 2:20:59 PM
```


The 1G file is always read from cache:

```
(base) PS C:\Users\jemurray\Documents\JasonMurrayPerfTesting> typeperf "\PhysicalDisk(1 D:)\Disk Bytes/sec"


"(PDH-CSV 4.0)","\\Window10-Workstation\PhysicalDisk(1 D:)\Disk Bytes/sec"
"06/09/2020 14:20:55.961","0.000000"
"06/09/2020 14:20:56.962","0.000000"
"06/09/2020 14:20:57.977","0.000000"
"06/09/2020 14:20:58.993","0.000000"
"06/09/2020 14:20:59.993","0.000000"
"06/09/2020 14:21:01.008","0.000000"
"06/09/2020 14:21:02.024","0.000000"


The command completed successfully.
```





### First run: 10G file transfer from SSD to SMB, 1500 byte MTU, non-cached data

10G file transferred: `501959620 Bytes/sec.`

```
(base) PS D:\JasonMurrayPerfTesting> Robocopy.exe D:\JasonMurrayPerfTesting\ X:\Active\JasonMurrayPerfTesting\ 10G.img


-------------------------------------------------------------------------------
   ROBOCOPY     ::     Robust File Copy for Windows
-------------------------------------------------------------------------------


  Started : Tuesday, June 9, 2020 2:21:42 PM
   Source : D:\JasonMurrayPerfTesting\
     Dest : X:\Active\JasonMurrayPerfTesting\


    Files : 10G.img


  Options : /DCOPY:DA /COPY:DAT /R:1000000 /W:30


------------------------------------------------------------------------------


                           1    D:\JasonMurrayPerfTesting\
100%        New File              10.0 g        10G.img


------------------------------------------------------------------------------


               Total    Copied   Skipped  Mismatch    FAILED    Extras
    Dirs :         1         0         1         0         0         0
   Files :         1         1         0         0         0         0
   Bytes :  10.000 g  10.000 g         0         0         0         0
   Times :   0:00:21   0:00:21                       0:00:00   0:00:00




   Speed :           501959620 Bytes/sec.
   Speed :           28722.359 MegaBytes/min.
   Ended : Tuesday, June 9, 2020 2:22:03 PM
```



The disk is constantly transferring data, indicating the data is not cached:


```
(base) PS C:\Users\jemurray\Documents\JasonMurrayPerfTesting> typeperf "\PhysicalDisk(1 D:)\Disk Bytes/sec"


"(PDH-CSV 4.0)","\\Window10-Workstation\PhysicalDisk(1 D:)\Disk Bytes/sec"
"06/09/2020 14:21:40.696","0.000000"
"06/09/2020 14:21:41.696","0.000000"
"06/09/2020 14:21:42.711","0.000000"
"06/09/2020 14:21:43.712","0.000000"
"06/09/2020 14:21:44.712","0.000000"
"06/09/2020 14:21:45.727","0.000000"
"06/09/2020 14:21:46.743","0.000000"
"06/09/2020 14:21:47.743","0.000000"
"06/09/2020 14:21:48.758","155546085.849571"
"06/09/2020 14:21:49.774","569974165.667250"
"06/09/2020 14:21:50.790","569943858.732165"
"06/09/2020 14:21:51.790","331359625.429137"
"06/09/2020 14:21:52.790","398375778.812540"
"06/09/2020 14:21:53.805","656637461.854593"
"06/09/2020 14:21:54.805","415271311.007173"
"06/09/2020 14:21:55.821","588561786.655231"
"06/09/2020 14:21:56.836","322060743.247893"
"06/09/2020 14:21:57.836","654416785.102401"
"06/09/2020 14:21:58.837","568158994.251512"
"06/09/2020 14:21:59.852","377956397.693531"
"06/09/2020 14:22:00.852","310289908.231200"
"06/09/2020 14:22:01.868","0.000000"
"06/09/2020 14:22:02.868","314523639.955075"
"06/09/2020 14:22:03.883","489391660.931570"
"06/09/2020 14:22:04.883","0.000000"
"06/09/2020 14:22:05.899","0.000000"
"06/09/2020 14:22:06.915","0.000000"


The command completed successfully.
```


### First run: 50G file transfer from SSD to SMB, 1500 byte MTU, non-cached data

50G file transferred: `621112384 Bytes/sec.`

```
(base) PS D:\JasonMurrayPerfTesting> Robocopy.exe D:\JasonMurrayPerfTesting\ X:\Active\JasonMurrayPerfTesting\ 50G.img


-------------------------------------------------------------------------------
   ROBOCOPY     ::     Robust File Copy for Windows
-------------------------------------------------------------------------------


  Started : Tuesday, June 9, 2020 2:22:42 PM
   Source : D:\JasonMurrayPerfTesting\
     Dest : X:\Active\JasonMurrayPerfTesting\


    Files : 50G.img


  Options : /DCOPY:DA /COPY:DAT /R:1000000 /W:30


------------------------------------------------------------------------------


                           1    D:\JasonMurrayPerfTesting\
100%        New File              50.0 g        50G.img


------------------------------------------------------------------------------


               Total    Copied   Skipped  Mismatch    FAILED    Extras
    Dirs :         1         0         1         0         0         0
   Files :         1         1         0         0         0         0
   Bytes :  50.000 g  50.000 g         0         0         0         0
   Times :   0:01:26   0:01:26                       0:00:00   0:00:00




   Speed :           621112384 Bytes/sec.
   Speed :           35540.335 MegaBytes/min.
   Ended : Tuesday, June 9, 2020 2:24:09 PM
```



The disk is constantly transferring data, indicating the data is not cached:

```
(base) PS C:\Users\jemurray\Documents\JasonMurrayPerfTesting> typeperf "\PhysicalDisk(1 D:)\Disk Bytes/sec"


"(PDH-CSV 4.0)","\\Window10-Workstation\PhysicalDisk(1 D:)\Disk Bytes/sec"
"06/09/2020 14:22:41.417","0.000000"
"06/09/2020 14:22:42.430","0.000000"
"06/09/2020 14:22:43.430","0.000000"
"06/09/2020 14:22:44.432","0.000000"
"06/09/2020 14:22:45.446","0.000000"
"06/09/2020 14:22:46.462","0.000000"
"06/09/2020 14:22:47.462","0.000000"
"06/09/2020 14:22:48.477","533024701.955775"
"06/09/2020 14:22:49.477","589577579.913413"
"06/09/2020 14:22:50.477","559823084.816050"
"06/09/2020 14:22:51.477","606559931.673592"
"06/09/2020 14:22:52.493","668812761.000739"
"06/09/2020 14:22:53.493","547244705.733207"
"06/09/2020 14:22:54.508","609233775.032694"
"06/09/2020 14:22:55.508","629055393.456578"
"06/09/2020 14:22:56.524","613304321.085939"
"06/09/2020 14:22:57.524","589101832.694398"
"06/09/2020 14:22:58.540","596812312.073527"
"06/09/2020 14:22:59.555","607227715.605229"
"06/09/2020 14:23:00.571","611131908.887781"
"06/09/2020 14:23:01.586","615236587.240160"
"06/09/2020 14:23:02.587","658093103.624028"
"06/09/2020 14:23:03.602","607505869.003719"
"06/09/2020 14:23:04.618","549397749.078465"
"06/09/2020 14:23:05.618","597576632.927306"
"06/09/2020 14:23:06.618","574543635.876974"
"06/09/2020 14:23:07.618","608192325.769773"
"06/09/2020 14:23:08.633","545321075.181971"
"06/09/2020 14:23:09.633","606011599.949525"
"06/09/2020 14:23:10.634","594306236.409780"
"06/09/2020 14:23:11.649","640418178.807415"
"06/09/2020 14:23:12.665","620356622.712685"
"06/09/2020 14:23:13.665","677261642.938650"
"06/09/2020 14:23:14.680","551570385.906487"
"06/09/2020 14:23:15.680","643819354.570325"
"06/09/2020 14:23:16.680","628970054.457801"
"06/09/2020 14:23:17.696","673344799.482733"
"06/09/2020 14:23:18.696","574500956.102469"
"06/09/2020 14:23:19.711","611297589.707588"
"06/09/2020 14:23:20.711","635392260.845610"
"06/09/2020 14:23:21.712","576689061.256153"
"06/09/2020 14:23:22.712","618655880.602364"
"06/09/2020 14:23:23.727","615353443.732078"
"06/09/2020 14:23:24.743","592549262.063387"
"06/09/2020 14:23:25.743","637562196.980447"
"06/09/2020 14:23:26.758","567906133.867342"
"06/09/2020 14:23:27.774","553474867.236262"
"06/09/2020 14:23:28.790","574028611.622664"
"06/09/2020 14:23:29.790","586995467.998890"
"06/09/2020 14:23:30.805","634243263.084021"
"06/09/2020 14:23:31.805","613286023.433997"
"06/09/2020 14:23:32.805","630013425.148325"
"06/09/2020 14:23:33.821","623615432.037438"
"06/09/2020 14:23:34.821","668958106.990461"
"06/09/2020 14:23:35.836","609305537.663574"
"06/09/2020 14:23:36.837","580773576.817010"
"06/09/2020 14:23:37.852","598766795.006966"
"06/09/2020 14:23:38.852","577796923.712035"
"06/09/2020 14:23:39.868","679498995.272403"
"06/09/2020 14:23:40.883","577098500.587875"
"06/09/2020 14:23:41.884","595494697.858947"
"06/09/2020 14:23:42.899","567682082.882713"
"06/09/2020 14:23:43.915","619776256.399137"
"06/09/2020 14:23:44.930","569967318.263044"
"06/09/2020 14:23:45.930","593183840.169975"
"06/09/2020 14:23:46.931","580849998.580149"
"06/09/2020 14:23:47.946","605141813.508370"
"06/09/2020 14:23:48.962","571972827.428492"
"06/09/2020 14:23:49.977","578437325.672881"
"06/09/2020 14:23:50.977","582781087.931924"
"06/09/2020 14:23:51.993","574079652.571520"
"06/09/2020 14:23:52.993","597735062.881917"
"06/09/2020 14:23:53.993","614251346.555456"
"06/09/2020 14:23:55.008","623749444.417361"
"06/09/2020 14:23:56.009","633289684.128049"
"06/09/2020 14:23:57.024","611400666.461079"
"06/09/2020 14:23:58.024","584992153.519079"
"06/09/2020 14:23:59.039","584480623.410266"
"06/09/2020 14:24:00.040","643894303.132714"
"06/09/2020 14:24:01.040","602554001.195252"
"06/09/2020 14:24:02.055","615562490.667345"
"06/09/2020 14:24:03.056","599122910.891487"
"06/09/2020 14:24:04.071","629203878.719914"
"06/09/2020 14:24:05.086","620796618.863309"
"06/09/2020 14:24:06.086","638440411.788171"
"06/09/2020 14:24:07.102","625671389.255090"
"06/09/2020 14:24:08.118","615403374.189783"
"06/09/2020 14:24:09.133","616358484.407653"
"06/09/2020 14:24:10.133","290395399.713807"
"06/09/2020 14:24:11.133","0.000000"
"06/09/2020 14:24:12.149","0.000000"
"06/09/2020 14:24:13.165","0.000000"


The command completed successfully.
```





### Second run: 1G file transfer from SSD to SMB, 1500 byte MTU, cached data

1G file transferred: `996049929 Bytes/sec.`

NOTE: Files 1G or less do not yield consistent results on 10G links.


```
(base) PS D:\JasonMurrayPerfTesting> Robocopy.exe D:\JasonMurrayPerfTesting\ X:\Active\JasonMurrayPerfTesting\ 1G.img


-------------------------------------------------------------------------------
   ROBOCOPY     ::     Robust File Copy for Windows
-------------------------------------------------------------------------------


  Started : Tuesday, June 9, 2020 2:25:51 PM
   Source : D:\JasonMurrayPerfTesting\
     Dest : X:\Active\JasonMurrayPerfTesting\


    Files : 1G.img


  Options : /DCOPY:DA /COPY:DAT /R:1000000 /W:30


------------------------------------------------------------------------------


                           1    D:\JasonMurrayPerfTesting\
100%        New File               1.0 g        1G.img


------------------------------------------------------------------------------


               Total    Copied   Skipped  Mismatch    FAILED    Extras
    Dirs :         1         0         1         0         0         0
   Files :         1         1         0         0         0         0
   Bytes :   1.000 g   1.000 g         0         0         0         0
   Times :   0:00:01   0:00:01                       0:00:00   0:00:00




   Speed :           996049929 Bytes/sec.
   Speed :           56994.434 MegaBytes/min.
   Ended : Tuesday, June 9, 2020 2:25:53 PM
```


Data is read from cache, disk have no activity:

```
(base) PS C:\Users\jemurray\Documents\JasonMurrayPerfTesting> typeperf "\PhysicalDisk(1 D:)\Disk Bytes/sec"


"(PDH-CSV 4.0)","\\Window10-Workstation\PhysicalDisk(1 D:)\Disk Bytes/sec"
"06/09/2020 14:25:49.712","0.000000"
"06/09/2020 14:25:50.727","0.000000"
"06/09/2020 14:25:51.743","0.000000"
"06/09/2020 14:25:52.743","0.000000"
"06/09/2020 14:25:53.758","0.000000"
"06/09/2020 14:25:54.758","0.000000"


The command completed successfully.
```

### Second run: 10G file transfer from SSD to SMB, 1500 byte MTU, cached data

10G file transferred: `1147160068 Bytes/sec.`


```
(base) PS D:\JasonMurrayPerfTesting> Robocopy.exe D:\JasonMurrayPerfTesting\ X:\Active\JasonMurrayPerfTesting\ 10G.img


-------------------------------------------------------------------------------
   ROBOCOPY     ::     Robust File Copy for Windows
-------------------------------------------------------------------------------


  Started : Tuesday, June 9, 2020 2:26:23 PM
   Source : D:\JasonMurrayPerfTesting\
     Dest : X:\Active\JasonMurrayPerfTesting\


    Files : 10G.img


  Options : /DCOPY:DA /COPY:DAT /R:1000000 /W:30


------------------------------------------------------------------------------


                           1    D:\JasonMurrayPerfTesting\
100%        New File              10.0 g        10G.img


------------------------------------------------------------------------------


               Total    Copied   Skipped  Mismatch    FAILED    Extras
    Dirs :         1         0         1         0         0         0
   Files :         1         1         0         0         0         0
   Bytes :  10.000 g  10.000 g         0         0         0         0
   Times :   0:00:09   0:00:09                       0:00:00   0:00:00




   Speed :           1147160068 Bytes/sec.
   Speed :            65641.025 MegaBytes/min.
   Ended : Tuesday, June 9, 2020 2:26:33 PM
```


Data is read from cache, disk have no activity:

```
(base) PS C:\Users\jemurray\Documents\JasonMurrayPerfTesting> typeperf "\PhysicalDisk(1 D:)\Disk Bytes/sec"


"(PDH-CSV 4.0)","\\Window10-Workstation\PhysicalDisk(1 D:)\Disk Bytes/sec"
"06/09/2020 14:26:22.759","0.000000"
"06/09/2020 14:26:23.774","0.000000"
"06/09/2020 14:26:24.774","0.000000"
"06/09/2020 14:26:25.774","0.000000"
"06/09/2020 14:26:26.790","0.000000"
"06/09/2020 14:26:27.805","0.000000"
"06/09/2020 14:26:28.805","0.000000"
"06/09/2020 14:26:29.821","0.000000"
"06/09/2020 14:26:30.821","0.000000"
"06/09/2020 14:26:31.837","0.000000"
"06/09/2020 14:26:32.852","0.000000"
"06/09/2020 14:26:33.852","0.000000"


The command completed successfully.
```


### Second run: 50G file transfer from SSD to SMB, 1500 byte MTU, cached data

10G file transferred: `1160375455 Bytes/sec.`

```
(base) PS D:\JasonMurrayPerfTesting> Robocopy.exe D:\JasonMurrayPerfTesting\ X:\Active\JasonMurrayPerfTesting\ 50G.img


-------------------------------------------------------------------------------
   ROBOCOPY     ::     Robust File Copy for Windows
-------------------------------------------------------------------------------


  Started : Tuesday, June 9, 2020 2:27:07 PM
   Source : D:\JasonMurrayPerfTesting\
     Dest : X:\Active\JasonMurrayPerfTesting\


    Files : 50G.img


  Options : /DCOPY:DA /COPY:DAT /R:1000000 /W:30


------------------------------------------------------------------------------


                           1    D:\JasonMurrayPerfTesting\
100%        New File              50.0 g        50G.img


------------------------------------------------------------------------------


               Total    Copied   Skipped  Mismatch    FAILED    Extras
    Dirs :         1         0         1         0         0         0
   Files :         1         1         0         0         0         0
   Bytes :  50.000 g  50.000 g         0         0         0         0
   Times :   0:00:46   0:00:46                       0:00:00   0:00:00




   Speed :           1160375455 Bytes/sec.
   Speed :            66397.216 MegaBytes/min.
   Ended : Tuesday, June 9, 2020 2:27:53 PM
```


Data is read from cache, disk have no activity:


```
(base) PS C:\Users\jemurray\Documents\JasonMurrayPerfTesting> typeperf "\PhysicalDisk(1 D:)\Disk Bytes/sec"

"(PDH-CSV 4.0)","\\Window10-Workstation\PhysicalDisk(1 D:)\Disk Bytes/sec"
"06/09/2020 14:27:06.712","0.000000"
"06/09/2020 14:27:07.727","0.000000"
"06/09/2020 14:27:08.727","0.000000"
"06/09/2020 14:27:09.727","0.000000"
"06/09/2020 14:27:10.743","0.000000"
"06/09/2020 14:27:11.743","0.000000"
"06/09/2020 14:27:12.758","0.000000"
"06/09/2020 14:27:13.758","0.000000"
"06/09/2020 14:27:14.774","0.000000"
"06/09/2020 14:27:15.790","0.000000"
"06/09/2020 14:27:16.805","0.000000"
"06/09/2020 14:27:17.805","0.000000"
"06/09/2020 14:27:18.821","0.000000"
"06/09/2020 14:27:19.837","0.000000"
"06/09/2020 14:27:20.852","0.000000"
"06/09/2020 14:27:21.852","0.000000"
"06/09/2020 14:27:22.868","0.000000"
"06/09/2020 14:27:23.868","0.000000"
"06/09/2020 14:27:24.883","0.000000"
"06/09/2020 14:27:25.884","0.000000"
"06/09/2020 14:27:26.899","0.000000"
"06/09/2020 14:27:27.915","0.000000"
"06/09/2020 14:27:28.915","0.000000"
"06/09/2020 14:27:29.915","0.000000"
"06/09/2020 14:27:30.916","0.000000"
"06/09/2020 14:27:31.930","0.000000"
"06/09/2020 14:27:32.930","0.000000"
"06/09/2020 14:27:33.931","0.000000"
"06/09/2020 14:27:34.946","0.000000"
"06/09/2020 14:27:35.962","0.000000"
"06/09/2020 14:27:36.977","0.000000"
"06/09/2020 14:27:37.993","0.000000"
"06/09/2020 14:27:39.008","0.000000"
"06/09/2020 14:27:40.008","0.000000"
"06/09/2020 14:27:41.024","0.000000"
"06/09/2020 14:27:42.040","0.000000"
"06/09/2020 14:27:43.040","0.000000"
"06/09/2020 14:27:44.055","0.000000"
"06/09/2020 14:27:45.056","0.000000"
"06/09/2020 14:27:46.071","0.000000"
"06/09/2020 14:27:47.086","0.000000"
"06/09/2020 14:27:48.087","0.000000"
"06/09/2020 14:27:49.102","0.000000"
"06/09/2020 14:27:50.118","0.000000"
"06/09/2020 14:27:51.118","0.000000"
"06/09/2020 14:27:52.133","0.000000"
"06/09/2020 14:27:53.149","0.000000"
"06/09/2020 14:27:54.149","0.000000"
"06/09/2020 14:27:55.165","0.000000"
"06/09/2020 14:27:56.180","0.000000"


The command completed successfully.
```








Moving from 1500 to 9000 byte MTU:

![900byte](/images/window10jumbo.png)






### First run: 1G file transfer from SSD to SMB, 9000 byte MTU, non-cached data

1G file transferred: `1126696562 Bytes/sec.`

```
(base) PS D:\JasonMurrayPerfTesting> Robocopy.exe D:\JasonMurrayPerfTesting\ X:\Active\JasonMurrayPerfTesting\ 1G.img


-------------------------------------------------------------------------------
   ROBOCOPY     ::     Robust File Copy for Windows
-------------------------------------------------------------------------------


  Started : Tuesday, June 9, 2020 2:50:36 PM
   Source : D:\JasonMurrayPerfTesting\
     Dest : X:\Active\JasonMurrayPerfTesting\


    Files : 1G.img


  Options : /DCOPY:DA /COPY:DAT /R:1000000 /W:30


------------------------------------------------------------------------------


                           1    D:\JasonMurrayPerfTesting\
100%        New File               1.0 g        1G.img


------------------------------------------------------------------------------


               Total    Copied   Skipped  Mismatch    FAILED    Extras
    Dirs :         1         0         1         0         0         0
   Files :         1         1         0         0         0         0
   Bytes :   1.000 g   1.000 g         0         0         0         0
   Times :   0:00:00   0:00:00                       0:00:00   0:00:00




   Speed :           1126696562 Bytes/sec.
   Speed :            64470.094 MegaBytes/min.
   Ended : Tuesday, June 9, 2020 2:50:37 PM
```

Disks for 1G files never get hit:

```
(base) PS C:\Users\jemurray\Documents\JasonMurrayPerfTesting> typeperf "\PhysicalDisk(1 D:)\Disk Bytes/sec"


"(PDH-CSV 4.0)","\\Window10-Workstation\PhysicalDisk(1 D:)\Disk Bytes/sec"
"06/09/2020 14:50:34.634","0.000000"
"06/09/2020 14:50:35.649","0.000000"
"06/09/2020 14:50:36.664","0.000000"
"06/09/2020 14:50:37.664","0.000000"
"06/09/2020 14:50:38.665","0.000000"


The command completed successfully.
```



### First run: 10G file transfer from SSD to SMB, 9000 byte MTU, non-cached data

10G file transferred: `702618652 Bytes/sec.`

```
(base) PS D:\JasonMurrayPerfTesting> Robocopy.exe D:\JasonMurrayPerfTesting\ X:\Active\JasonMurrayPerfTesting\ 10G.img


-------------------------------------------------------------------------------
   ROBOCOPY     ::     Robust File Copy for Windows
-------------------------------------------------------------------------------


  Started : Tuesday, June 9, 2020 2:51:32 PM
   Source : D:\JasonMurrayPerfTesting\
     Dest : X:\Active\JasonMurrayPerfTesting\


    Files : 10G.img


  Options : /DCOPY:DA /COPY:DAT /R:1000000 /W:30


------------------------------------------------------------------------------


                           1    D:\JasonMurrayPerfTesting\
100%        New File              10.0 g        10G.img


------------------------------------------------------------------------------


               Total    Copied   Skipped  Mismatch    FAILED    Extras
    Dirs :         1         0         1         0         0         0
   Files :         1         1         0         0         0         0
   Bytes :  10.000 g  10.000 g         0         0         0         0
   Times :   0:00:15   0:00:15                       0:00:00   0:00:00




   Speed :           702618652 Bytes/sec.
   Speed :           40204.161 MegaBytes/min.
   Ended : Tuesday, June 9, 2020 2:51:48 PM
```




Non-cached data, disks are busy:

```
(base) PS C:\Users\jemurray\Documents\JasonMurrayPerfTesting> typeperf "\PhysicalDisk(1 D:)\Disk Bytes/sec"


"(PDH-CSV 4.0)","\\Window10-Workstation\PhysicalDisk(1 D:)\Disk Bytes/sec"
"06/09/2020 14:51:31.618","0.000000"
"06/09/2020 14:51:32.633","0.000000"
"06/09/2020 14:51:33.633","0.000000"
"06/09/2020 14:51:34.634","0.000000"
"06/09/2020 14:51:35.649","0.000000"
"06/09/2020 14:51:36.665","199068537.421676"
"06/09/2020 14:51:37.665","579933105.858983"
"06/09/2020 14:51:38.680","530932558.999313"
"06/09/2020 14:51:39.696","623679421.599140"
"06/09/2020 14:51:40.696","538955614.125314"
"06/09/2020 14:51:41.696","591166604.607505"
"06/09/2020 14:51:42.711","625889980.592041"
"06/09/2020 14:51:43.727","590243884.485352"
"06/09/2020 14:51:44.727","566420281.015887"
"06/09/2020 14:51:45.727","475696256.111660"
"06/09/2020 14:51:46.743","570317701.079932"
"06/09/2020 14:51:47.743","612462764.512011"
"06/09/2020 14:51:48.758","222901296.286344"
"06/09/2020 14:51:49.758","0.000000"
"06/09/2020 14:51:50.758","0.000000"


The command completed successfully.
```





### First run: 50G file transfer from SSD to SMB, 9000 byte MTU, non-cached data

50G file transferred: `586442933 Bytes/sec.`


```
(base) PS D:\JasonMurrayPerfTesting> Robocopy.exe D:\JasonMurrayPerfTesting\ X:\Active\JasonMurrayPerfTesting\ 50G.img


-------------------------------------------------------------------------------
   ROBOCOPY     ::     Robust File Copy for Windows
-------------------------------------------------------------------------------


  Started : Tuesday, June 9, 2020 2:52:25 PM
   Source : D:\JasonMurrayPerfTesting\
     Dest : X:\Active\JasonMurrayPerfTesting\


    Files : 50G.img


  Options : /DCOPY:DA /COPY:DAT /R:1000000 /W:30


------------------------------------------------------------------------------


                           1    D:\JasonMurrayPerfTesting\
100%        New File              50.0 g        50G.img


------------------------------------------------------------------------------


               Total    Copied   Skipped  Mismatch    FAILED    Extras
    Dirs :         1         0         1         0         0         0
   Files :         1         1         0         0         0         0
   Bytes :  50.000 g  50.000 g         0         0         0         0
   Times :   0:01:31   0:01:31                       0:00:00   0:00:00




   Speed :           586442933 Bytes/sec.
   Speed :           33556.533 MegaBytes/min.
   Ended : Tuesday, June 9, 2020 2:53:56 PM
```


non-cached disks are busy:

```
(base) PS C:\Users\jemurray\Documents\JasonMurrayPerfTesting> typeperf "\PhysicalDisk(1 D:)\Disk Bytes/sec"


"(PDH-CSV 4.0)","\\Window10-Workstation\PhysicalDisk(1 D:)\Disk Bytes/sec"
"06/09/2020 14:52:24.243","0.000000"
"06/09/2020 14:52:25.258","0.000000"
"06/09/2020 14:52:26.259","0.000000"
"06/09/2020 14:52:27.274","0.000000"
"06/09/2020 14:52:28.289","0.000000"
"06/09/2020 14:52:29.290","302882608.406173"
"06/09/2020 14:52:30.305","566677433.180642"
"06/09/2020 14:52:31.305","595760006.385810"
"06/09/2020 14:52:32.305","538677232.162356"
"06/09/2020 14:52:33.305","457123458.362771"
"06/09/2020 14:52:34.321","601066618.024890"
"06/09/2020 14:52:35.321","572178731.018404"
"06/09/2020 14:52:36.337","638342063.968179"
"06/09/2020 14:52:37.352","565643229.336370"
"06/09/2020 14:52:38.368","543432207.506297"
"06/09/2020 14:52:39.368","586994470.460222"
"06/09/2020 14:52:40.383","534602526.191630"
"06/09/2020 14:52:41.383","599805445.521336"
"06/09/2020 14:52:42.383","620879181.022825"
"06/09/2020 14:52:43.384","526216183.983323"
"06/09/2020 14:52:44.399","572545357.508761"
"06/09/2020 14:52:45.399","488183528.140944"
"06/09/2020 14:52:46.415","586537377.047889"
"06/09/2020 14:52:47.415","545229641.415650"
"06/09/2020 14:52:48.430","599033546.914343"
"06/09/2020 14:52:49.430","572220649.607332"
"06/09/2020 14:52:50.446","572015969.663744"
"06/09/2020 14:52:51.446","606144694.976898"
"06/09/2020 14:52:52.446","494682657.806525"
"06/09/2020 14:52:53.462","593045592.324218"
"06/09/2020 14:52:54.477","514014622.997823"
"06/09/2020 14:52:55.477","589300301.300301"
"06/09/2020 14:52:56.493","561937115.292374"
"06/09/2020 14:52:57.508","596553429.736993"
"06/09/2020 14:52:58.524","530673582.832962"
"06/09/2020 14:52:59.540","582264052.339062"
"06/09/2020 14:53:00.555","516148442.294701"
"06/09/2020 14:53:01.555","541129177.468777"
"06/09/2020 14:53:02.571","584277563.288924"
"06/09/2020 14:53:03.571","560206522.407927"
"06/09/2020 14:53:04.586","590398141.549365"
"06/09/2020 14:53:05.587","595677362.514356"
"06/09/2020 14:53:06.602","510370988.979460"
"06/09/2020 14:53:07.618","522065507.293949"
"06/09/2020 14:53:08.618","576626557.943682"
"06/09/2020 14:53:09.618","555721272.841013"
"06/09/2020 14:53:10.618","584994551.532485"
"06/09/2020 14:53:11.633","563874299.481424"
"06/09/2020 14:53:12.633","583291152.208821"
"06/09/2020 14:53:13.633","530309475.446050"
"06/09/2020 14:53:14.634","628928179.528337"
"06/09/2020 14:53:15.649","558025003.313769"
"06/09/2020 14:53:16.649","621329008.650365"
"06/09/2020 14:53:17.665","565078896.814995"
"06/09/2020 14:53:18.665","507083160.770522"
"06/09/2020 14:53:19.680","599098811.385372"
"06/09/2020 14:53:20.680","566147363.419687"
"06/09/2020 14:53:21.696","568140547.985987"
"06/09/2020 14:53:22.696","580862369.647187"
"06/09/2020 14:53:23.712","596908179.598101"
"06/09/2020 14:53:24.712","486186001.251491"
"06/09/2020 14:53:25.727","607169592.256908"
"06/09/2020 14:53:26.727","580872359.813600"
"06/09/2020 14:53:27.743","609327201.779386"
"06/09/2020 14:53:28.743","517793775.957335"
"06/09/2020 14:53:29.743","582988492.690098"
"06/09/2020 14:53:30.758","578602729.767197"
"06/09/2020 14:53:31.759","496591549.236671"
"06/09/2020 14:53:32.774","620114011.491040"
"06/09/2020 14:53:33.774","553055142.276451"
"06/09/2020 14:53:34.790","644578990.283607"
"06/09/2020 14:53:35.805","584618167.594136"
"06/09/2020 14:53:36.821","551258258.690490"
"06/09/2020 14:53:37.821","500803660.961402"
"06/09/2020 14:53:38.821","547180370.484630"
"06/09/2020 14:53:39.821","572874928.656109"
"06/09/2020 14:53:40.836","582449794.462285"
"06/09/2020 14:53:41.837","498703215.428718"
"06/09/2020 14:53:42.852","541146148.330825"
"06/09/2020 14:53:43.852","511735024.498933"
"06/09/2020 14:53:44.868","561438731.094607"
"06/09/2020 14:53:45.883","601477866.187485"
"06/09/2020 14:53:46.899","594834551.668823"
"06/09/2020 14:53:47.899","563458357.774864"
"06/09/2020 14:53:48.899","568794546.648797"
"06/09/2020 14:53:49.915","536687916.282675"
"06/09/2020 14:53:50.915","591496353.686690"
"06/09/2020 14:53:51.930","611083419.256486"
"06/09/2020 14:53:52.946","538958565.732893"
"06/09/2020 14:53:53.946","593499416.844693"
"06/09/2020 14:53:54.961","582245020.321581"
"06/09/2020 14:53:55.962","547189724.415081"
"06/09/2020 14:53:56.977","386100484.576792"
"06/09/2020 14:53:57.993","0.000000"
"06/09/2020 14:54:02.837","0.000000"
"06/09/2020 14:54:03.837","0.000000"


The command completed successfully.
```





### Second run: 1G file transfer from SSD to SMB, 9000 byte MTU, cached data

1G file transferred: `1183838835 Bytes/sec.`

```
(base) PS D:\JasonMurrayPerfTesting> Robocopy.exe D:\JasonMurrayPerfTesting\ X:\Active\JasonMurrayPerfTesting\ 1G.img


-------------------------------------------------------------------------------
   ROBOCOPY     ::     Robust File Copy for Windows
-------------------------------------------------------------------------------


  Started : Tuesday, June 9, 2020 2:56:01 PM
   Source : D:\JasonMurrayPerfTesting\
     Dest : X:\Active\JasonMurrayPerfTesting\


    Files : 1G.img


  Options : /DCOPY:DA /COPY:DAT /R:1000000 /W:30


------------------------------------------------------------------------------


                           1    D:\JasonMurrayPerfTesting\
100%        New File               1.0 g        1G.img


------------------------------------------------------------------------------


               Total    Copied   Skipped  Mismatch    FAILED    Extras
    Dirs :         1         0         1         0         0         0
   Files :         1         1         0         0         0         0
   Bytes :   1.000 g   1.000 g         0         0         0         0
   Times :   0:00:00   0:00:00                       0:00:00   0:00:00




   Speed :           1183838835 Bytes/sec.
   Speed :            67739.801 MegaBytes/min.
   Ended : Tuesday, June 9, 2020 2:56:02 PM
```


Cached data, disks have no activity:

```
(base) PS C:\Users\jemurray\Documents\JasonMurrayPerfTesting> typeperf "\PhysicalDisk(1 D:)\Disk Bytes/sec"


"(PDH-CSV 4.0)","\\Window10-Workstation\PhysicalDisk(1 D:)\Disk Bytes/sec"
"06/09/2020 14:55:59.790","0.000000"
"06/09/2020 14:56:00.790","0.000000"
"06/09/2020 14:56:01.805","0.000000"
"06/09/2020 14:56:02.805","0.000000"
"06/09/2020 14:56:03.805","0.000000"


The command completed successfully.
```


### Second run: 10G file transfer from SSD to SMB, 9000 byte MTU, cached data

10G file transferred: `1222662063 Bytes/sec.`

```
(base) PS D:\JasonMurrayPerfTesting> Robocopy.exe D:\JasonMurrayPerfTesting\ X:\Active\JasonMurrayPerfTesting\ 10G.img


-------------------------------------------------------------------------------
   ROBOCOPY     ::     Robust File Copy for Windows
-------------------------------------------------------------------------------


  Started : Tuesday, June 9, 2020 2:56:25 PM
   Source : D:\JasonMurrayPerfTesting\
     Dest : X:\Active\JasonMurrayPerfTesting\


    Files : 10G.img


  Options : /DCOPY:DA /COPY:DAT /R:1000000 /W:30


------------------------------------------------------------------------------


                           1    D:\JasonMurrayPerfTesting\
100%        New File              10.0 g        10G.img


------------------------------------------------------------------------------


               Total    Copied   Skipped  Mismatch    FAILED    Extras
    Dirs :         1         0         1         0         0         0
   Files :         1         1         0         0         0         0
   Bytes :  10.000 g  10.000 g         0         0         0         0
   Times :   0:00:08   0:00:08                       0:00:00   0:00:00




   Speed :           1222662063 Bytes/sec.
   Speed :            69961.284 MegaBytes/min.
   Ended : Tuesday, June 9, 2020 2:56:33 PM
```

Data is read from cache, disk have no activity:


```
(base) PS C:\Users\jemurray\Documents\JasonMurrayPerfTesting> typeperf "\PhysicalDisk(1 D:)\Disk Bytes/sec"


"(PDH-CSV 4.0)","\\Window10-Workstation\PhysicalDisk(1 D:)\Disk Bytes/sec"
"06/09/2020 14:56:23.211","0.000000"
"06/09/2020 14:56:24.227","0.000000"
"06/09/2020 14:56:25.243","0.000000"
"06/09/2020 14:56:26.258","0.000000"
"06/09/2020 14:56:27.259","0.000000"
"06/09/2020 14:56:28.274","0.000000"
"06/09/2020 14:56:29.289","0.000000"
"06/09/2020 14:56:30.289","0.000000"
"06/09/2020 14:56:31.290","0.000000"
"06/09/2020 14:56:32.290","0.000000"
"06/09/2020 14:56:33.305","0.000000"
"06/09/2020 14:56:34.305","0.000000"


The command completed successfully.
```



Second run: 50G file transfer from SSD to SMB, 1500 byte MTU, cached data

50G file transferred: `1223219211 Bytes/sec.`


```
(base) PS D:\JasonMurrayPerfTesting> Robocopy.exe D:\JasonMurrayPerfTesting\ X:\Active\JasonMurrayPerfTesting\ 50G.img


-------------------------------------------------------------------------------
   ROBOCOPY     ::     Robust File Copy for Windows
-------------------------------------------------------------------------------


  Started : Tuesday, June 9, 2020 2:57:01 PM
   Source : D:\JasonMurrayPerfTesting\
     Dest : X:\Active\JasonMurrayPerfTesting\


    Files : 50G.img


  Options : /DCOPY:DA /COPY:DAT /R:1000000 /W:30


------------------------------------------------------------------------------


                           1    D:\JasonMurrayPerfTesting\
100%        New File              50.0 g        50G.img


------------------------------------------------------------------------------


               Total    Copied   Skipped  Mismatch    FAILED    Extras
    Dirs :         1         0         1         0         0         0
   Files :         1         1         0         0         0         0
   Bytes :  50.000 g  50.000 g         0         0         0         0
   Times :   0:00:43   0:00:43                       0:00:00   0:00:00




   Speed :           1223219211 Bytes/sec.
   Speed :            69993.164 MegaBytes/min.
   Ended : Tuesday, June 9, 2020 2:57:45 PM
```


Data is read from cache, disk have no activity:

```
(base) PS C:\Users\jemurray\Documents\JasonMurrayPerfTesting> typeperf "\PhysicalDisk(1 D:)\Disk Bytes/sec"


"(PDH-CSV 4.0)","\\Window10-Workstation\PhysicalDisk(1 D:)\Disk Bytes/sec"
"06/09/2020 14:56:59.805","0.000000"
"06/09/2020 14:57:00.821","0.000000"
"06/09/2020 14:57:01.821","0.000000"
"06/09/2020 14:57:02.836","0.000000"
"06/09/2020 14:57:03.837","0.000000"
"06/09/2020 14:57:04.852","0.000000"
"06/09/2020 14:57:05.852","0.000000"
"06/09/2020 14:57:06.868","0.000000"
"06/09/2020 14:57:07.868","0.000000"
"06/09/2020 14:57:08.868","0.000000"
"06/09/2020 14:57:09.883","0.000000"
"06/09/2020 14:57:10.899","0.000000"
"06/09/2020 14:57:11.914","0.000000"
"06/09/2020 14:57:12.915","0.000000"
"06/09/2020 14:57:13.915","0.000000"
"06/09/2020 14:57:14.915","0.000000"
"06/09/2020 14:57:15.930","0.000000"
"06/09/2020 14:57:16.946","0.000000"
"06/09/2020 14:57:17.962","0.000000"
"06/09/2020 14:57:18.977","0.000000"
"06/09/2020 14:57:19.993","0.000000"
"06/09/2020 14:57:21.008","0.000000"
"06/09/2020 14:57:22.008","0.000000"
"06/09/2020 14:57:23.008","0.000000"
"06/09/2020 14:57:24.024","0.000000"
"06/09/2020 14:57:25.040","0.000000"
"06/09/2020 14:57:26.040","0.000000"
"06/09/2020 14:57:27.055","0.000000"
"06/09/2020 14:57:28.055","0.000000"
"06/09/2020 14:57:29.071","0.000000"
"06/09/2020 14:57:30.086","0.000000"
"06/09/2020 14:57:31.086","0.000000"
"06/09/2020 14:57:32.102","0.000000"
"06/09/2020 14:57:33.102","0.000000"
"06/09/2020 14:57:34.118","0.000000"
"06/09/2020 14:57:35.134","0.000000"
"06/09/2020 14:57:36.149","0.000000"
"06/09/2020 14:57:37.164","0.000000"
"06/09/2020 14:57:38.165","0.000000"
"06/09/2020 14:57:39.165","0.000000"
"06/09/2020 14:57:40.180","0.000000"
"06/09/2020 14:57:41.196","0.000000"
"06/09/2020 14:57:42.211","0.000000"
"06/09/2020 14:57:43.212","0.000000"
"06/09/2020 14:57:44.227","0.000000"
"06/09/2020 14:57:45.227","0.000000"
"06/09/2020 14:57:46.227","0.000000"
"06/09/2020 14:57:47.805","0.000000"
"06/09/2020 14:57:48.821","0.000000"
"06/09/2020 14:57:49.821","0.000000"
"06/09/2020 14:57:51.227","0.000000"


The command completed successfully.

```


## First run: 100G (100 x 1G small files) file transfer from SSD to SMB, 9000 byte MTU, cached data

100G file transferred: 1183774935 Bytes/sec. 

```
(base) PS D:\JasonMurrayPerfTesting\testfiles> Robocopy.exe D:\JasonMurrayPerfTesting\testfiles\ X:\Active\JasonMurrayPerfTesting\testfiles2\ /mt

-------------------------------------------------------------------------------
   ROBOCOPY     ::     Robust File Copy for Windows
-------------------------------------------------------------------------------

  Started : Wednesday, June 10, 2020 4:05:47 PM
   Source : D:\JasonMurrayPerfTesting\testfiles\
     Dest : X:\Active\JasonMurrayPerfTesting\testfiles2\

    Files : *.*

  Options : *.* /DCOPY:DA /COPY:DAT /MT:8 /R:1000000 /W:30

------------------------------------------------------------------------------

100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file1
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file10
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file100
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file11
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file12
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file13
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file14
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file15
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file16
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file17
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file18
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file19
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file2
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file20
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file21
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file22
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file23
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file24
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file25
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file26
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file27
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file28
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file29
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file3
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file30
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file31
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file32
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file33
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file34
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file35
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file36
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file37
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file38
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file39
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file4
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file40
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file41
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file42
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file43
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file44
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file45
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file46
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file47
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file48
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file49
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file5
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file50
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file51
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file52
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file53
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file54
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file55
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file56
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file57
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file58
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file59
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file6
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file60
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file61
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file62
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file63
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file64
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file65
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file66
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file67
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file68
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file69
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file7
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file70
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file71
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file72
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file73
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file74
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file75
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file76
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file77
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file78
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file79
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file8
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file80
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file81
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file82
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file83
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file84
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file85
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file86
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file87
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file88
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file89
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file9
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file90
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file91
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file92
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file93
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file94
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file95
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file96
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file97
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file98
100%        New File            1000.0 m        D:\JasonMurrayPerfTesting\testfiles\file99

------------------------------------------------------------------------------

               Total    Copied   Skipped  Mismatch    FAILED    Extras
    Dirs :         1         1         1         0         0         0
   Files :       100       100         0         0         0         0
   Bytes :  97.656 g  97.656 g         0         0         0         0
   Times :   0:14:42   0:01:28                       0:00:00   0:00:11


   Speed :           1183774935 Bytes/sec.
   Speed :            67736.145 MegaBytes/min.
   Ended : Wednesday, June 10, 2020 4:07:27 PM
```